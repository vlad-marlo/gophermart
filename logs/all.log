{"file":"userrepository.go:84","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":" SELECT      x.id, x.password FROM users AS x  WHERE x.login=$1; ","request_id":"DESKTOP-B5PH9VU/jLOwUm2iFZ-000001","time":"2022-10-10T23:10:38+03:00"}
{"file":"userrepository.go:110","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/jLOwUm2iFZ-000001","time":"2022-10-10T23:10:38+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"login: unauthorized: uncorrect login data","request_id":"DESKTOP-B5PH9VU/jLOwUm2iFZ-000001","time":"2022-10-10T23:10:38+03:00"}
{"code":401,"duration":"43.5407ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/jLOwUm2iFZ-000001","time":"2022-10-10T23:10:38+03:00","url":"/api/user/login"}
{"file":"main.go:18","func":"main.main","level":"info","msg":"successfully init logger","time":"2022-10-10T23:11:04+03:00"}
{"file":"storage.go:39","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.New","level":"info","msg":"successfully migrated","time":"2022-10-10T23:11:04+03:00"}
{"file":"main.go:31","func":"main.main","level":"info","msg":"successfully init sql storage","time":"2022-10-10T23:11:04+03:00"}
{"file":"main.go:34","func":"main.main.func1","level":"info","msg":"starting server on :8000","time":"2022-10-10T23:11:04+03:00"}
{"file":"userrepository.go:84","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":" SELECT      x.id, x.password FROM users AS x  WHERE x.login=$1; ","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000001","time":"2022-10-10T23:11:08+03:00"}
{"file":"userrepository.go:110","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000001","time":"2022-10-10T23:11:08+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"login: unauthorized: uncorrect login data","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000001","time":"2022-10-10T23:11:08+03:00"}
{"code":401,"duration":"7.2921ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000001","time":"2022-10-10T23:11:08+03:00","url":"/api/user/login"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":" INSERT INTO      users(login, password) VALUES      ($1, $2) RETURNING id; ","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000002","time":"2022-10-10T23:12:52+03:00"}
{"file":"handlers.go:59","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthRegister.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:12:52+03:00","user_id":1}
{"code":200,"duration":"4.8288ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/HgpO9mBbS3-000002","time":"2022-10-10T23:12:52+03:00","url":"/api/user/register"}
{"file":"storage.go:39","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.New","level":"info","msg":"successfully migrated","time":"2022-10-10T23:14:05+03:00"}
{"file":"main.go:31","func":"main.main","level":"info","msg":"successfully init sql storage","time":"2022-10-10T23:14:05+03:00"}
{"file":"main.go:34","func":"main.main.func1","level":"info","msg":"starting server on :8000","time":"2022-10-10T23:14:05+03:00"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000001","time":"2022-10-10T23:14:08+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"auth register: create user: login already in use","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000001","time":"2022-10-10T23:14:08+03:00"}
{"code":409,"duration":"6.058ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Conflict","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000001","time":"2022-10-10T23:14:08+03:00","url":"/api/user/register"}
{"file":"userrepository.go:84","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"SELECT     x.id, x.passwordFROM users AS x WHERE x.login=$1;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000002","time":"2022-10-10T23:14:58+03:00"}
{"file":"userrepository.go:110","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000002","time":"2022-10-10T23:14:58+03:00"}
{"file":"handlers.go:100","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthLogin.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:14:58+03:00","user_id":1}
{"code":200,"duration":"3.0079ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000002","time":"2022-10-10T23:14:58+03:00","url":"/api/user/login"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000003","time":"2022-10-10T23:15:50+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"auth register: create user: login already in use","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000003","time":"2022-10-10T23:15:50+03:00"}
{"code":409,"duration":"3.3218ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Conflict","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000003","time":"2022-10-10T23:15:50+03:00","url":"/api/user/register"}
{"file":"userrepository.go:137","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).ExistsWithID","level":"trace","msg":"SELECT EXISTS(    SELECT         x.*     FROM         users AS x    WHERE         x.id=$1);","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000004","time":"2022-10-10T23:16:10+03:00"}
{"code":200,"duration":"807.6µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"OK","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000004","time":"2022-10-10T23:16:10+03:00","url":"/api/user/balance"}
{"code":401,"duration":"530.1µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000005","time":"2022-10-10T23:16:20+03:00","url":"/api/user/balance"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000006","time":"2022-10-10T23:16:32+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"auth register: create user: login already in use","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000006","time":"2022-10-10T23:16:32+03:00"}
{"code":409,"duration":"1.8902ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Conflict","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000006","time":"2022-10-10T23:16:32+03:00","url":"/api/user/register"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000007","time":"2022-10-10T23:16:36+03:00"}
{"file":"helpers.go:7","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).error","level":"error","msg":"auth register: create user: login already in use","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000007","time":"2022-10-10T23:16:36+03:00"}
{"code":409,"duration":"2.4622ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"Conflict","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000007","time":"2022-10-10T23:16:36+03:00","url":"/api/user/register"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000008","time":"2022-10-10T23:16:39+03:00"}
{"file":"handlers.go:59","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthRegister.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:16:39+03:00","user_id":6}
{"code":200,"duration":"9.2575ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000008","time":"2022-10-10T23:16:39+03:00","url":"/api/user/register"}
{"file":"userrepository.go:84","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"SELECT     x.id, x.passwordFROM users AS x WHERE x.login=$1;","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000009","time":"2022-10-10T23:16:45+03:00"}
{"file":"userrepository.go:110","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000009","time":"2022-10-10T23:16:45+03:00"}
{"file":"handlers.go:100","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthLogin.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:16:45+03:00","user_id":1}
{"code":200,"duration":"2.0936ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/GqL5xSAtUH-000009","time":"2022-10-10T23:16:45+03:00","url":"/api/user/login"}
{"file":"main.go:32","func":"main.main.func1","level":"info","msg":"starting server on :8000","time":"2022-10-10T23:23:22+03:00"}
{"file":"main.go:34","func":"main.main.func1","level":"panic","msg":"start server: listen tcp :8000: bind: address already in use","time":"2022-10-10T23:23:22+03:00"}
{"file":"main.go:48","func":"main.main","level":"info","msg":"got interrupt signal","time":"2022-10-10T23:23:27+03:00"}
{"file":"main.go:60","func":"main.main","level":"info","msg":"storage was closed successful","time":"2022-10-10T23:23:27+03:00"}
{"file":"main.go:61","func":"main.main","level":"info","msg":"server was successful shut down","time":"2022-10-10T23:23:27+03:00"}
{"file":"main.go:32","func":"main.main.func1","level":"info","msg":"starting server on :8000","time":"2022-10-10T23:23:29+03:00"}
{"file":"auth.go:112","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).CheckAuthMiddleware.func1","level":"warning","msg":"decode: gcm open: cipher: message authentication failed","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000001","time":"2022-10-10T23:23:38+03:00"}
{"code":401,"duration":"130.5µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000001","time":"2022-10-10T23:23:38+03:00","url":"/api/user/balance"}
{"file":"userrepository.go:50","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).Create","level":"trace","msg":"INSERT INTO     users(login, password)VALUES     ($1, $2)RETURNING id;","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000002","time":"2022-10-10T23:23:47+03:00"}
{"file":"handlers.go:59","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthRegister.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:23:47+03:00","user_id":7}
{"code":200,"duration":"7.1986ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000002","time":"2022-10-10T23:23:47+03:00","url":"/api/user/register"}
{"file":"userrepository.go:137","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).ExistsWithID","level":"trace","msg":"SELECT EXISTS(    SELECT         x.*     FROM         users AS x    WHERE         x.id=$1);","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000003","time":"2022-10-10T23:23:50+03:00"}
{"code":200,"duration":"936µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"OK","request_id":"DESKTOP-B5PH9VU/BvaeM6BlL5-000003","time":"2022-10-10T23:23:50+03:00","url":"/api/user/balance"}
{"file":"auth.go:112","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).CheckAuthMiddleware.func1","level":"warning","msg":"decode: gcm open: cipher: message authentication failed","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000001","time":"2022-10-10T23:25:08+03:00"}
{"code":401,"duration":"189.5µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000001","time":"2022-10-10T23:25:08+03:00","url":"/api/user/balance"}
{"file":"userrepository.go:85","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"SELECT   x.id, x.passwordFROM users AS x WHERE x.login=$1;","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000002","time":"2022-10-10T23:25:14+03:00"}
{"file":"userrepository.go:111","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000002","time":"2022-10-10T23:25:14+03:00"}
{"file":"handlers.go:100","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthLogin.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:25:14+03:00","user_id":1}
{"code":200,"duration":"9.9238ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000002","time":"2022-10-10T23:25:14+03:00","url":"/api/user/login"}
{"file":"userrepository.go:138","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).ExistsWithID","level":"trace","msg":"SELECT EXISTS(  SELECT     x.*   FROM     users AS x  WHERE     x.id=$1);","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000003","time":"2022-10-10T23:25:17+03:00"}
{"code":200,"duration":"854µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"OK","request_id":"DESKTOP-B5PH9VU/LWcnoHvk88-000003","time":"2022-10-10T23:25:17+03:00","url":"/api/user/balance"}
{"file":"main.go:46","func":"main.main","level":"info","msg":"got interrupt signal","time":"2022-10-10T23:25:54+03:00"}
{"file":"main.go:58","func":"main.main","level":"info","msg":"server was closed successful","time":"2022-10-10T23:25:54+03:00"}
{"file":"main.go:32","func":"main.main.func1","level":"info","msg":"starting server on :8000","time":"2022-10-10T23:25:54+03:00"}
{"file":"auth.go:112","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).CheckAuthMiddleware.func1","level":"warning","msg":"decode: gcm open: cipher: message authentication failed","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000001","time":"2022-10-10T23:25:56+03:00"}
{"code":401,"duration":"229.8µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"Unauthorized","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000001","time":"2022-10-10T23:25:56+03:00","url":"/api/user/balance"}
{"file":"userrepository.go:85","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"  SELECT    x.id, x.password  FROM users AS x  WHERE x.login=$1; ","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000002","time":"2022-10-10T23:26:10+03:00"}
{"file":"userrepository.go:111","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).GetByLogin","level":"trace","msg":"get id by login=login","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000002","time":"2022-10-10T23:26:10+03:00"}
{"file":"handlers.go:100","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).handleAuthLogin.func1","level":"trace","msg":"successful authenticated","time":"2022-10-10T23:26:10+03:00","user_id":1}
{"code":200,"duration":"6.4762ms","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"POST","msg":"OK","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000002","time":"2022-10-10T23:26:10+03:00","url":"/api/user/login"}
{"file":"userrepository.go:138","func":"github.com/vlad-marlo/gophermart/internal/store/sqlstore.(*userRepository).ExistsWithID","level":"trace","msg":"  SELECT EXISTS(    SELECT      x.*    FROM      users AS x    WHERE      x.id=$1  ); ","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000003","time":"2022-10-10T23:26:12+03:00"}
{"code":200,"duration":"814.8µs","file":"loggermiddleware.go:43","func":"github.com/vlad-marlo/gophermart/internal/server.(*server).logRequest.func1","level":"trace","method":"GET","msg":"OK","request_id":"DESKTOP-B5PH9VU/NksxNaFA5b-000003","time":"2022-10-10T23:26:12+03:00","url":"/api/user/balance"}
{"file":"main.go:46","func":"main.main","level":"info","msg":"got interrupt signal","time":"2022-10-10T23:26:50+03:00"}
{"file":"main.go:58","func":"main.main","level":"info","msg":"server was closed successful","time":"2022-10-10T23:26:50+03:00"}
